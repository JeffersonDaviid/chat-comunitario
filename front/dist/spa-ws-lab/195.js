"use strict";(self.webpackChunkspa_ws_lab=self.webpackChunkspa_ws_lab||[]).push([[195],{7195:(v,l,s)=>{s.r(l),s.d(l,{LoginComponent:()=>_});var e=s(4438),d=s(177),o=s(4341),u=s(1626),m=s(6103),g=s(4796);function f(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"El email es requerido"),e.k0s())}function c(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Ingresa un email v\xe1lido"),e.k0s())}function b(r,i){if(1&r&&(e.j41(0,"small",23),e.DNE(1,f,2,0,"span",24)(2,c,2,0,"span",24),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==t.f.email.errors?null:t.f.email.errors.required),e.R7$(),e.Y8G("ngIf",null==t.f.email.errors?null:t.f.email.errors.email)}}function p(r,i){1&r&&(e.j41(0,"small",23),e.EFF(1," La contrase\xf1a es requerida "),e.k0s())}function h(r,i){if(1&r&&(e.j41(0,"div",25),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.SpI(" ",t.errorMsg," ")}}let _=(()=>{class r{constructor(){this.fb=(0,e.WQX)(o.ok),this.auth=(0,e.WQX)(g.u),this.router=(0,e.WQX)(m.Ix),this.loading=!1,this.errorMsg="",this.form=this.fb.group({email:["",[o.k0.required,o.k0.email]],password:["",[o.k0.required]]})}get f(){return this.form.controls}submit(){this.errorMsg="",this.form.invalid?this.form.markAllAsTouched():(this.loading=!0,this.auth.login(this.f.email.value||"",this.f.password.value||"").subscribe({next:()=>{this.loading=!1,this.router.navigateByUrl("/dashboard")},error:t=>{this.errorMsg=t.error&&(t.error.message||t.error.error)||t.message||"Error al iniciar sesi\xf3n",this.loading=!1}}))}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["login"]],standalone:!0,features:[e.aNF],decls:35,vars:6,consts:[[1,"h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-blue-50","to-indigo-50","px-4"],[1,"w-full","max-w-md"],[1,"text-center","mb-8"],[1,"w-16","h-16","bg-gradient-to-br","from-blue-600","to-blue-800","rounded-lg","flex","items-center","justify-center","mx-auto","mb-4","shadow-lg"],["fill","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-white"],["d","M8 12c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2zm0-3c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2zm0 6c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2z"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"bg-white","rounded-xl","shadow-lg","p-8","border","border-gray-100"],["novalidate","",1,"space-y-6",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-semibold","text-gray-900","mb-2"],["formControlName","email","type","email","placeholder","tu@email.com",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition","placeholder-gray-400","text-gray-900"],["class","text-red-600 text-sm mt-1 block",4,"ngIf"],["formControlName","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition","placeholder-gray-400","text-gray-900"],["class","bg-red-50 border border-red-200 rounded-lg p-4 text-sm text-red-800",4,"ngIf"],["type","submit",1,"w-full","py-3","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-400","disabled:cursor-not-allowed","text-white","font-semibold","rounded-lg","transition-colors","duration-200",3,"disabled"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],["routerLink","/register",1,"w-full","flex","items-center","justify-center","py-3","border","border-gray-300","hover:border-gray-400","hover:bg-gray-50","text-gray-700","font-semibold","rounded-lg","transition-colors","duration-200"],[1,"text-center","text-sm","text-gray-600","mt-6"],[1,"text-red-600","text-sm","mt-1","block"],[4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","text-sm","text-red-800"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.qSk(),e.j41(4,"svg",4),e.nrm(5,"path",5),e.k0s()(),e.joV(),e.j41(6,"h1",6),e.EFF(7,"Chat Comunitario"),e.k0s(),e.j41(8,"p",7),e.EFF(9,"Bienvenido de vuelta"),e.k0s()(),e.j41(10,"div",8)(11,"form",9),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(12,"div")(13,"label",10),e.EFF(14,"Correo electr\xf3nico"),e.k0s(),e.nrm(15,"input",11),e.DNE(16,b,3,2,"small",12),e.k0s(),e.j41(17,"div")(18,"label",10),e.EFF(19,"Contrase\xf1a"),e.k0s(),e.nrm(20,"input",13),e.DNE(21,p,2,0,"small",12),e.k0s(),e.DNE(22,h,2,1,"div",14),e.j41(23,"button",15),e.EFF(24),e.k0s(),e.j41(25,"div",16)(26,"div",17),e.nrm(27,"div",18),e.k0s(),e.j41(28,"div",19)(29,"span",20),e.EFF(30,"\xbfNo tienes cuenta?"),e.k0s()()(),e.j41(31,"a",21),e.EFF(32," Crear cuenta "),e.k0s()()(),e.j41(33,"p",22),e.EFF(34," Por favor inicia sesi\xf3n con tus credenciales "),e.k0s()()()),2&a&&(e.R7$(11),e.Y8G("formGroup",n.form),e.R7$(5),e.Y8G("ngIf",n.f.email.touched&&n.f.email.invalid),e.R7$(5),e.Y8G("ngIf",n.f.password.touched&&n.f.password.invalid),e.R7$(),e.Y8G("ngIf",n.errorMsg),e.R7$(),e.Y8G("disabled",n.loading||n.form.invalid),e.R7$(),e.SpI(" ",n.loading?"Ingresando...":"Ingresar"," "))},dependencies:[d.MD,d.bT,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,u.q1]})}}return r})()}}]);